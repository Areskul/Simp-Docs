# Getting Started

## Install

Install cli

```bash
yarn gloabl add simpcicd
```

```bash
npm install -g simpcicd
```

And helpers

```bash
yarn add -D simpcicd
```

```bash
npm install --save-dev simpcicd
```

## Cli

### Usage

```bash
## in your terminal
simp <command> <options> <args>
```

For short.
This will trigger a pipeline execution

```bash
simp trigger --pipeline <pipeline name>
```

This will transform your pipelines in git hooks

```bash
simp hooks
```

This Will delete hooks generated by Simp

```bash
simp hooks --delete
```

### Config

Here is a simple example of what could contain simp.config.json

```js
//simp.config.js
pipelines: [
  {
    name: "test",
    steps: [
      {
        name: "build",
        commands: ["yarn install", "yarn build"]
      }
    ],
    trigger: {
      branch: ["master", "dev"]
    }
  }
];
```

## API

### Usage

```ts
// main.ts
import { useSimp, useHooks, useConfig, useCli, useLogs } from "simpcicd";
```

## Integrates with your tools

There we are.
You're gonna enjoy this part.

```ts
// deploy.ts
import { useSimp } from "simpcicd";
import config from "simp.config.ts";

useSimp(config);
```

Create a config file in .ts
And enjoy creating greate pipelines

```ts
// simp.config.ts
import type { Config } from "simpcicd";

const dockerOptions = " -t myapp .";

const config: Config = {
  pipelines: [
    {
      name: "test",
      steps: [
        {
          name: "build",
          commands: ["yarn install", "yarn build"]
        },
        {
          name: "docker",
          commands: [`docker ${dockerOptions}`]
        }
      ],
      trigger: {
        branch: ["master", "dev"]
      }
    }
  ]
};

export default config;
```

## Generate config file for CLI

For now .ts config file can't be interpreted by cli.

I will implement such a thing in next versions (this feature is in vite.js source code)

So a .json file need to be generated

```ts
// deploy.ts
import { useCli } from "simpcicd";
import config from "simp.config.ts";

// Generate a .json config file for cli usage;
const cli = useCli(config);
```

You can automate this with an entry in your package.json

```json
script:{
  "simp" : "ts-node deploy.ts"
}
```

## Generate hooks

```ts
// deploy.ts
import { useHooks } from "simpcicd";
import config from "simp.config.ts";

// Generate git hooks
const hooks = useHooks(config);
```
